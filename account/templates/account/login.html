{% extends 'base.html' %}
{% load static %}
{% block title %}Login - Outfit Avenue{% endblock %}
{% block extra_css %}
<style>
  .auth-hero{background:var(--gradient-secondary);color:#fff;padding:100px 0 60px;text-align:center}
  .auth-card{background:#fff;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.1);border:1px solid rgba(228,60,92,.1)}
  .auth-title{font-family:'Playfair Display',serif;font-weight:700}
  .form-control:focus{border-color:#e43c5c;box-shadow:0 0 0 .2rem rgba(228,60,92,.15)}
  .social-btn{border:2px solid var(--primary-color);color:var(--primary-color);border-radius:30px}
  .social-btn:hover{background:var(--gradient-primary);color:#fff}
  .divider{position:relative;text-align:center;margin:20px 0}
  .divider:before,.divider:after{content:'';position:absolute;top:50%;width:40%;height:1px;background:#e9ecef}
  .divider:before{left:0}
  .divider:after{right:0}
  .input-group .btn-eye{border:2px solid var(--primary-color);color:var(--primary-color);border-radius:0 10px 10px 0}
  .input-group .btn-eye:hover{background:var(--gradient-primary);color:#fff}
</style>
{% endblock %}
{% block content %}
<section class="auth-hero">
  <div class="container">
    <h1 class="auth-title">Welcome Back</h1>
    <p>Sign in to continue your shopping</p>
  </div>
  </section>
<section class="py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="auth-card p-4" data-aos="fade-up">
          <div class="text-center mb-3">
            <span class="navbar-brand"><i class="fas fa-sun me-2"></i>Outfit Avenue</span>
          </div>
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">{{ message }}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>
            {% endfor %}
          {% endif %}
          <form method="POST" id="loginForm">
            {% csrf_token %}
            <div class="mb-3 position-relative">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com" required>
            </div>
            <div class="mb-3 position-relative">
              <label for="password" class="form-label">Password</label>
              <div class="input-group">
                <input type="password" class="form-control" id="password" name="password" placeholder="••••••••" required>
                <button class="btn btn-outline-custom btn-eye" type="button" id="togglePassword"><i class="fas fa-eye"></i></button>
              </div>
            </div>
            <div class="mb-3 d-flex justify-content-between align-items-center">
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="remember">
                <label class="form-check-label" for="remember">Remember me</label>
              </div>
              <a href="{% url 'account:password_reset' %}">Forgot password?</a>
            </div>
            <button type="submit" class="btn btn-primary-custom w-100 mb-3" id="loginBtn">Login</button>
          </form>
          <!-- <div class="divider">OR</div> -->
          <!-- <div class="row g-2">
            <div class="col-6"><a href="{% url 'account:google_login' %}" class="btn w-100 social-btn"><i class="fab fa-google me-2"></i>Google</a></div>
            <div class="col-6"><a href="{% url 'account:facebook_login' %}" class="btn w-100 social-btn"><i class="fab fa-facebook-f me-2"></i>Facebook</a></div>
          </div> -->
          <div class="text-center mt-3">Don't have an account? <a href="{% url 'account:register' %}">Register</a></div>
        </div>
      </div>
    </div>
  </div>
</section>
<script>
  const toggle=document.getElementById('togglePassword');
  if(toggle){toggle.addEventListener('click',function(){const p=document.getElementById('password');if(p){p.type=p.type==='password'?'text':'password';this.innerHTML=p.type==='password'?'<i class="fas fa-eye"></i>':'<i class="fas fa-eye-slash"></i>'}})}
  const form=document.getElementById('loginForm');
  if(form){form.addEventListener('submit',function(){const btn=document.getElementById('loginBtn');if(btn){btn.disabled=true;btn.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Logging in...'}})}
</script>
{% endblock %}