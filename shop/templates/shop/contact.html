{% extends "shop/basic.html" %}
{% load static %}

{% block title %}Contact Us - Outfit Avenue{% endblock %}

{% block hero_title %}Get in Touch{% endblock %}
{% block hero_description %}We'd love to hear from you. Send us a message and we'll respond as soon as possible.{% endblock %}

{% block shop_content %}
  <div class="row">
    <!-- Contact Form -->
    <div class="col-lg-8" data-aos="fade-up">
      <div class="modern-card p-5">
        <h3 class="mb-4">
          <i class="fas fa-envelope me-2 text-primary"></i>Send us a Message
        </h3>
        <form action="/shop/contact/" method="post" id="contactForm" onsubmit="return formValidate();">
          {% csrf_token %}
          <div class="row g-3">
            <div class="col-md-6">
              <label for="name" class="form-label fw-semibold">Full Name *</label>
              <input type="text" class="form-control" id="name" name="name" placeholder="Enter your full name" required>
            </div>
            <div class="col-md-6">
              <label for="email" class="form-label fw-semibold">Email Address *</label>
              <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email address" required>
            </div>
            <div class="col-md-6">
              <label for="phoneNumber" class="form-label fw-semibold">Phone Number *</label>
              <input type="tel" class="form-control" id="phoneNumber" name="phonenumber" placeholder="Enter your phone number" required>
            </div>
            <div class="col-md-6">
              <label for="zip" class="form-label fw-semibold">ZIP Code</label>
              <input type="text" class="form-control" id="zip" name="zip" placeholder="Enter your ZIP code">
            </div>
            <div class="col-12">
              <label for="desc" class="form-label fw-semibold">How May We Help You? *</label>
              <textarea class="form-control" id="desc" name="desc" rows="5" placeholder="Tell us about your inquiry..." required></textarea>
            </div>
            <div class="col-12">
              <button type="submit" class="btn btn-primary-custom btn-lg">
                <i class="fas fa-paper-plane me-2"></i>Send Message
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Contact Information -->
    <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
      <div class="modern-card p-4 mb-4">
        <h4 class="mb-4">
          <i class="fas fa-info-circle me-2 text-primary"></i>Contact Information
        </h4>
        <div class="contact-item mb-3">
          <div class="d-flex align-items-center">
            <div class="contact-icon me-3">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <div>
              <h6 class="mb-1">Address</h6>
              <p class="text-muted mb-0">123 Fashion Street<br>Style City, SC 12345</p>
            </div>
          </div>
        </div>
        <div class="contact-item mb-3">
          <div class="d-flex align-items-center">
            <div class="contact-icon me-3">
              <i class="fas fa-phone"></i>
            </div>
            <div>
              <h6 class="mb-1">Phone</h6>
              <p class="text-muted mb-0">+1 (555) 123-4567</p>
            </div>
          </div>
        </div>
        <div class="contact-item mb-3">
          <div class="d-flex align-items-center">
            <div class="contact-icon me-3">
              <i class="fas fa-envelope"></i>
            </div>
            <div>
              <h6 class="mb-1">Email</h6>
              <p class="text-muted mb-0">info@outfitavenue.com</p>
            </div>
          </div>
        </div>
        <div class="contact-item">
          <div class="d-flex align-items-center">
            <div class="contact-icon me-3">
              <i class="fas fa-clock"></i>
            </div>
            <div>
              <h6 class="mb-1">Business Hours</h6>
              <p class="text-muted mb-0">Mon-Fri: 9AM-6PM<br>Sat: 10AM-4PM</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Social Media -->
      <div class="modern-card p-4">
        <h4 class="mb-4">
          <i class="fas fa-share-alt me-2 text-primary"></i>Follow Us
        </h4>
        <div class="d-flex gap-3">
          <a href="#" class="social-link">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-pinterest"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-youtube"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <section class="py-5 mt-5" style="background: var(--bg-light);">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center mb-5" data-aos="fade-up">
          <h2 class="display-5 fw-bold">Frequently Asked Questions</h2>
          <p class="lead">Quick answers to common questions</p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <div class="accordion" id="faqAccordion">
            <div class="accordion-item" data-aos="fade-up" data-aos-delay="100">
              <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                  What is your return policy?
                </button>
              </h2>
              <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  We offer a 30-day return policy for all items in original condition. Items must be unworn, with tags attached, and in original packaging.
                </div>
              </div>
            </div>
            <div class="accordion-item" data-aos="fade-up" data-aos-delay="200">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                  How long does shipping take?
                </button>
              </h2>
              <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Standard shipping takes 3-5 business days, while express shipping takes 1-2 business days. Free shipping is available on orders over $75.
                </div>
              </div>
            </div>
            <div class="accordion-item" data-aos="fade-up" data-aos-delay="300">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                  Do you offer international shipping?
                </button>
              </h2>
              <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Yes, we ship to over 50 countries worldwide. International shipping rates and delivery times vary by destination.
                </div>
              </div>
            </div>
            <div class="accordion-item" data-aos="fade-up" data-aos-delay="400">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                  How can I track my order?
                </button>
              </h2>
              <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Once your order ships, you'll receive a tracking number via email. You can also track your order in your account dashboard.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_css %}
<style>
  .contact-icon {
    width: 40px;
    height: 40px;
    background: var(--gradient-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  .social-link {
    width: 45px;
    height: 45px;
    background: var(--gradient-primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .social-link:hover {
    background: var(--accent-color);
    color: white;
    transform: translateY(-3px);
  }

  .form-control {
    border: 2px solid #e9ecef;
    border-radius: 10px;
    padding: 12px 15px;
    transition: all 0.3s ease;
  }

  .form-control:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.2rem rgba(228, 60, 92, 0.25);
  }

  .accordion-item {
    border: none;
    margin-bottom: 15px;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .accordion-button {
    background: white;
    border: none;
    font-weight: 600;
    padding: 20px;
  }

  .accordion-button:not(.collapsed) {
    background: var(--gradient-primary);
    color: white;
  }

  .accordion-button:focus {
    box-shadow: none;
  }
  </style>
{% endblock %}

{% block extra_js %}
  {{ block.super }}
  <script>
  function formValidate() {
    var name = document.getElementById("name").value;
    var email = document.getElementById("email").value;
    var phoneNumber = document.getElementById("phoneNumber").value;
    var desc = document.getElementById("desc").value;

    const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    const phoneRegex = /^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/;

    if (name.trim() === "") {
      showNotification("Name cannot be empty", "error");
      return false;
    }

    if (!emailRegex.test(email)) {
      showNotification("Invalid Email Address! Please enter a valid email address", "error");
      return false;
    }

    if (!phoneRegex.test(phoneNumber)) {
      showNotification("Invalid Phone Number! Please enter a valid phone number", "error");
      return false;
    }

    if (desc.trim() === "") {
      showNotification("Please describe how we can help you", "error");
      return false;
    }

    // Show success message
    showNotification("Thank you for your message! We'll get back to you soon.", "success");
    return true;
  }

  function showNotification(message, type) {
    const alertClass = type === 'error' ? 'danger' : 'success';
    const icon = type === 'error' ? 'exclamation-circle' : 'check-circle';
    
    const notification = $(`
      <div class="alert alert-${alertClass} alert-dismissible fade show position-fixed" 
           style="top: 100px; right: 20px; z-index: 9999; min-width: 300px;">
        <i class="fas fa-${icon} me-2"></i>
        ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    `);
    
    $('body').append(notification);
    
    setTimeout(() => {
      notification.alert('close');
    }, 5000);
  }
  </script>
{% endblock %}